<link href="/app/css/lifeweb_admin.css" rel="stylesheet">
<div class="container" style="margin-top: 100px;" ng-controller="EditDonorsCtrl">
  <ng-include src="'/app/partials/admin_header.html'"></ng-include>
  <h1>Donors</h1>
  Filter: <input ng-model="quickFilter" autofocus />
  <table class="table table-striped table-hover">
    <thead>
        <tr>
            <th></th>
            <th>Name</th>
            <th>Region</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat-start="donor in donors | filter:quickFilter" >
            <td><img ng-src='{{donor.body.logo.url | thumbnail}}' ng-click="showingDonor[$index] = !showingDonor[$index]" style="height: 40px;"></img></td>
            <td ng-click="showingDonor[$index] = !showingDonor[$index]">{{donor.body.name}}</td>
            <td><span ng-click="showingDonor[$index] = !showingDonor[$index]">{{fullCountryName(donor.body.country.identifier)}}</span> <button type="button" ng-click="deleteDonor(donor)">X</button></td>
        </tr>
        <tr ng-if="showingDonor[$index]" ng-repeat-end>
            <td colspan="3">
                <edit-donor donor="donor.body" always-editing="true"></edit-donor>
            </td>
        </tr>
    </tbody>
  </table>
  <edit-donor donor="donor.body"></edit-donor>
</div>
