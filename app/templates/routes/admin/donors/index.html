<link href="/app/css/lifeweb_admin.css" rel="stylesheet">
<div class="container" style="margin-top: 100px;" ng-controller="EditDonorsCtrl">

    <h1>DONORS</h1>
    <div class="panel panel-default">
        <div class="panel-heading">
            <h1 class="panel-title" style="font-weight:bold;font-size:20px;">Donors</h1>
            <br>
            <edit-donor  donor="donor.body"></edit-donor>
            Filter: <input ng-model="quickFilter" autofocus />
        </div>
        <div class="panel-body">

  <table class="table table-striped table-hover">
    <thead>
        <tr>
            <th></th>
            <th>Name</th>
            <th>Country</th>
            <th class="text-right">EDIT</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat-start="donor in donors | filter:quickFilter" >
            <td><img ng-src='{{donor.body.logo.url}}' ng-click="showingDonor[$index] = !showingDonor[$index]" style="height: 40px;"></img></td>
            <td ng-click="showingDonor[$index] = !showingDonor[$index]">{{donor.body.name}}</td>
            <td><span ng-click="showingDonor[$index] = !showingDonor[$index]">{{fullCountryName(donor.body.country.identifier)}}</span> </td>
            <td class="text-right">
                <button ng-show="confirm == 0"  type="button" ng-click="confirmDelete(donor.identifier)">X</button>
                <button ng-show="confirm == donor.identifier" type="button" ng-click="cancelDelete()">CANCEL</button>
                <button ng-show="confirm == donor.identifier" type="button" class="btn-danger" ng-click="deleteDonor(donor)">DELETE</button>
            </td>
        </tr>
        <tr ng-if="showingDonor[$index]" ng-repeat-end>
            <td colspan="3">
                <edit-donor donor="donor.body" always-editing="true"></edit-donor>
            </td>
        </tr>
    </tbody>
  </table>
  </div>
</div>


</div>
